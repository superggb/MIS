<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.AbsenceDao">
<insert id="addAbsenceRecord"  parameterType="entity.Absence">
    INSERT INTO absence(eid,starttime,endtime,state,description) VALUES (${add_absence.eid}, "${add_absence.starttime}", "${add_absence.endtime}", ${add_absence.state}, "${add_absence.description}")
    <selectKey order="AFTER" resultType="int" keyProperty="add_absence.aid" ><!--这是个大坑！！！-->
        SELECT LAST_INSERT_ID()
    </selectKey>
</insert>
</mapper>
